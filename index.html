<!DOCTYPE html>
<html lang="en">
<head>
    <title>Leaflet</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

<!--Ordering is important for imports-->
    <script src="leaflet/leaflet.js"></script>
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/handlebars-v3.0.3.js"></script>
    <script src="js/easy-button.js"></script>
    <script src="js/leaflet-google.js"></script>
    <script src="js/leaflet.awesome-markers.min.js"></script>
    <script src="http://maps.google.com/maps/api/js?v=3.2"></script>

    <link href="leaflet/leaflet.css" rel="stylesheet">
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/map.css" rel="stylesheet">
    <link href="css/leaflet.awesome-markers.css" rel="stylesheet">
    <link href="css/easy-button.css" rel="stylesheet">
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet">
</head>
<body>

<div class="container fill col-xs-12 col-md-12 col-lg-12">
    <div id="map">
        <script type='text/javascript'>
            var user_loc;
            var DEFAULT_ZOOM_LEVEL = 12;
            var map = new L.Map('map');
            var openmaps = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png');
            var googleLayer = new L.Google('ROADMAP');
            //map.addLayer(openmaps);  //Uncomment to replace google map with open maps.
            map.addLayer(googleLayer);

            // location button
            L.easyButton('fa-map-marker', function() {
                map.setView([user_loc.latitude, user_loc.longitude], DEFAULT_ZOOM_LEVEL)
            }).addTo(map);

            // Set the current location marker
            map.locate({setView: true, maxZoom: DEFAULT_ZOOM_LEVEL, watch: true})
                    .on('locationfound', function(e) {
                           user_loc = e;
                           L.marker([e.latitude, e.longitude],
                                    {icon: L.AwesomeMarkers.icon({icon: 'home', prefix: 'fa',markerColor: 'red', shadowSize: [0, 0]})})
                                    .bindPopup('Your are here :)').addTo(map);
                    });

        </script>
    </div>
 </div>

</body>
</html>